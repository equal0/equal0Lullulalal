package client.gui;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dialog;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.Image;
import java.awt.Toolkit;

import javax.swing.ImageIcon;
import javax.swing.JDialog;
import javax.swing.JLabel;
import javax.swing.JPanel;

import vo.Member;
import vo.Restaurant;

public class ReplyRestaurantGUI extends JDialog {

	public ReplyRestaurantGUI(Restaurant restaurant, Member member) {
		// super(main, Dialog.ModalityType.APPLICATION_MODAL);

		Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();

		this.setBounds(screenSize.width - 260, screenSize.height - 190, 260, 190);
		this.setUndecorated(true);

		// north 라벨띄우기
		JPanel north = new JPanel();
		FlowLayout flowLayout = (FlowLayout) north.getLayout();
		flowLayout.setAlignment(FlowLayout.LEFT);
		getContentPane().add(north, BorderLayout.NORTH);

		JLabel lbl_message = null;
		if (member.getId().equals("외계인 삐루뿡뿡")) {
			lbl_message = new JLabel("여기 어때? 추천맛집!");
		} else
			lbl_message = new JLabel(member.getId() + "님이 추천한 곳!");
		north.add(lbl_message);
		lbl_message.setFont(new Font("나눔바른고딕", Font.PLAIN, 13));

		// center 간략 소개 띄우기_소개 누르면 레스토랑 상세정보 화면으로
		JPanel center = new JPanel();
		center.setLayout(null);
		getContentPane().add(center, BorderLayout.CENTER);

		JPanel recommend = new JPanel();
		recommend.setLayout(null);
		recommend.setBounds(3, 1, 200, 74);
		recommend.setBackground(new Color(255, 102, 102));
		center.add(recommend);

		ImageIcon image = restaurant.getImages().get(3);
		Image getIcon = image.getImage().getScaledInstance(80, 70, Image.SCALE_DEFAULT);
		ImageIcon setImage = new ImageIcon(getIcon);

		JLabel lbl_image = new JLabel(setImage);
		lbl_image.setBounds(2, 2, 75, 70);

		JLabel lbl_name = new JLabel(restaurant.getRestaurantName());
		lbl_name.setBounds(83, 23, 105, 20);
		lbl_name.setFont(new Font("나눔바른고딕", Font.PLAIN, 16));

		String type = null;
		if (restaurant.getCategory().getType() == 1) {
			type = "한식";
		} else if (restaurant.getCategory().getType() == 2) {
			type = "중식";
		} else if (restaurant.getCategory().getType() == 3) {
			type = "일식";
		} else if (restaurant.getCategory().getType() == 4) {
			type = "양식";
		}
		JLabel lbl_type = new JLabel(type);
		lbl_type.setFont(new Font("나눔바른고딕", Font.PLAIN, 10));
		recommend.add(lbl_type);
		lbl_type.setBounds(83, 46, 105, 20);
		
		
		String score = null;
		if (restaurant.getCategory().getEvaluation().getAverage() < 1.5) {
			score = "☆☆☆☆★";
		} else if (restaurant.getCategory().getEvaluation().getAverage() < 2.5) {
			score = "☆☆☆★★";
		} else if (restaurant.getCategory().getEvaluation().getAverage() < 3.5) {
			score = "☆☆★★★";
		} else if (restaurant.getCategory().getEvaluation().getAverage() < 4.5) {
			score = "☆★★★★";
		} else if (restaurant.getCategory().getEvaluation().getAverage() <= 5.0) {
			score = "★★★★★";
		}
		JLabel lbl_score = new JLabel(score);

		recommend.add(lbl_name);
		lbl_score.setSize(105, 20);
		lbl_score.setLocation(140, 1);
		lbl_score.setFont(new Font("나눔바른고딕", Font.PLAIN, 12));
		recommend.add(lbl_score);
		recommend.add(lbl_image);
		repaint();

		// south 다른 추천 받기버튼, 완료버튼

		this.setVisible(true);

	}

}
